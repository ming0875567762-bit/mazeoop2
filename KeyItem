using UnityEngine;

public class KeyItem : Item
{
    void OnTriggerEnter(Collider other)
    {
        Player player = other.GetComponent<Player>();
        if (player != null)
        {
            OnCollect(player);
        }
    }

    public override void OnCollect(Player player)
    {
        base.OnCollect(player);

        // ดึง PlayerInventory จาก Player
        PlayerInventory inventory = player.GetComponent<PlayerInventory>();
        if (inventory != null)
        {
            inventory.AddKey(); // เพิ่มกุญแจเข้าตัวผู้เล่น
        }

        Destroy(gameObject); // ลบกุญแจออกจากฉาก
    }
}
